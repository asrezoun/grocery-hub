(this["webpackJsonpgrocery-hub"]=this["webpackJsonpgrocery-hub"]||[]).push([[0],{103:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},113:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(23),s=c.n(a),o=(c(73),c(5)),i=(c(74),c(10)),l=c(6),d=c(129),j=(c(75),c(1)),b=function(e){console.log(e);var t=e.pd,c=t._id,n=t.productName,r=t.price,a=t.weight,s=t.image,o=Object(l.g)();return Object(j.jsx)("div",{className:"col-md-4 py-2",children:Object(j.jsxs)("div",{className:"card",style:{width:"16rem",height:"18rem"},children:[Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("img",{src:s,className:"img",alt:""}),Object(j.jsx)("h5",{className:"card-title",children:n+" "+a})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between card-footer footer",children:[Object(j.jsx)("h5",{className:"pt-2",children:Object(j.jsxs)("strong",{children:["$",r]})}),Object(j.jsx)("button",{className:"btn btn-primary",onClick:function(){return e=c,void o.push("/checkout/".concat(e));var e},children:"Buy Now"})]})]})})},h=(c(81),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("https://frozen-dawn-84884.herokuapp.com/products").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),Object(j.jsx)("div",{className:"container py-5",children:Object(j.jsxs)("div",{className:"row",children:[0===c.length&&Object(j.jsx)("span",{className:"spinner",children:Object(j.jsx)(d.a,{})}),c.map((function(e){return Object(j.jsx)(b,{pd:e},e._id)}))]})})}),u=(c(82),c(37)),m=c(63),O=c.n(m),p=c.p+"static/media/grocery.e1b73e69.jpg",x=c(35),f=c.n(x),g=c(34),N=c.n(g),v=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(u.a)(),s=a.register,l=a.handleSubmit,d=(a.watch,a.formState.errors);return Object(j.jsx)("div",{className:"bg",style:{backgroundImage:"linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url('".concat(p,"')")},children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row py-5",children:[Object(j.jsx)("div",{className:"col-md-3 leftBlock",children:Object(j.jsxs)("div",{className:"routeList py-5",children:[Object(j.jsx)(i.b,{to:"/manageProducts",children:Object(j.jsxs)("h6",{className:"manage",children:[" ",Object(j.jsx)(N.a,{})," Manage Products"]})}),Object(j.jsx)(i.b,{to:"/admin",children:Object(j.jsxs)("h6",{className:"manage",children:[" ",Object(j.jsx)(f.a,{}),"  Add Products"]})})]})}),Object(j.jsx)("div",{className:"col-md-8",children:Object(j.jsx)("div",{className:"form p-5 m-5",children:Object(j.jsxs)("form",{onSubmit:l((function(e){console.log(e);var t={productName:e.productName,price:e.price,weight:e.weight,image:c};fetch("https://frozen-dawn-84884.herokuapp.com/addProduct",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){console.log("server response",e),alert("Product added successfully!")})),console.log(t)})),children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"productName",children:"Product Name: "}),Object(j.jsx)("input",{className:"form-control",name:"productName",placeholder:"Name of Product",ref:s({required:!0})}),d.pickFrom&&Object(j.jsx)("span",{className:"error",children:"This field is required"}),Object(j.jsx)("label",{className:"form-label",htmlFor:"price",children:"Price: "}),Object(j.jsx)("input",{className:"form-control",name:"price",placeholder:"Add price",ref:s({required:!0})}),d.pickTo&&Object(j.jsx)("span",{className:"error",children:"This field is required"}),Object(j.jsx)("label",{className:"form-label",htmlFor:"weight",children:"Weight: "}),Object(j.jsx)("input",{className:"form-control",name:"weight",placeholder:"weight",ref:s({required:!0})}),d.pickTo&&Object(j.jsx)("span",{className:"error",children:"This field is required"}),Object(j.jsx)("input",{className:"form-control",type:"file",onChange:function(e){console.log("image:: ",e.target.files[0]);var t=new FormData;t.set("key","4162808f7121f692d2f8c33176126b9d"),t.append("image",e.target.files[0]),O.a.post("https://api.imgbb.com/1/upload",t).then((function(e){console.log(r(e.data.data.display_url))})).catch((function(e){console.log(e)}))},name:"",id:""}),Object(j.jsx)("input",{className:"form-control btn btn-primary",type:"submit"})]})})})]})})})},y=c(131),w=c(132),k=(c(103),function(){var e=Object(n.useContext)(B),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(j.jsxs)(y.a,{className:"navbar",expand:"lg",children:[Object(j.jsx)(y.a.Brand,{children:Object(j.jsx)(i.b,{style:{textDecoration:"none",fontSize:"35px"},to:"/home",children:Object(j.jsx)("strong",{children:"GROCERY HUB"})})}),Object(j.jsx)(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(y.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:Object(j.jsxs)(w.a,{className:"me-auto",children:[Object(j.jsx)(w.a.Link,{className:"nav",children:Object(j.jsx)(i.b,{style:{textDecoration:"none"},to:"/home",children:"Home"})}),Object(j.jsx)(w.a.Link,{className:"nav",children:Object(j.jsx)(i.b,{style:{textDecoration:"none"},to:"/admin",children:"Admin"})}),Object(j.jsx)(w.a.Link,{className:"nav",children:Object(j.jsx)(i.b,{style:{textDecoration:"none"},to:"/orders",children:"Orders"})}),c.email?Object(j.jsx)(w.a.Link,{style:{color:"red"},children:c.name}):Object(j.jsx)(w.a.Link,{style:{backgroundColor:"orange",borderRadius:"5px"},children:Object(j.jsx)(i.b,{style:{textDecoration:"none"},to:"/login",children:"Log in"})}),c.email&&Object(j.jsx)(w.a.Link,{onClick:function(){r({name:"",email:"",password:""})},style:{backgroundColor:"orange",borderRadius:"5px"},children:Object(j.jsx)(i.b,{style:{textDecoration:"none"},to:"/home",children:"Log out"})})]})})]})}),P=c(130),S=function(e){var t=e.pd,c=t.productName,n=t.price,r=t.weight,a=t._id;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:c}),Object(j.jsx)("td",{children:r}),Object(j.jsxs)("td",{children:["$ ",n]}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{className:"btn btn-dark",onClick:function(e){!function(e,t){console.log("event",t.target.parentNode.parentNode.parentNode.parentNode),fetch("https://frozen-dawn-84884.herokuapp.com/deleteProduct/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){console.log("deleted successfully",e),t.target.parentNode.parentNode.style.display="none"}))}(a,e)},children:"Delete"})})]})},C=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("https://frozen-dawn-84884.herokuapp.com/products").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row p-5",children:[Object(j.jsx)("div",{className:"col-md-3 leftBlock",children:Object(j.jsxs)("div",{className:"routeList",children:[Object(j.jsx)(i.b,{to:"/manageProducts",children:Object(j.jsxs)("h6",{className:"manage",children:[" ",Object(j.jsx)(f.a,{})," Manage Products"]})}),Object(j.jsx)(i.b,{to:"/admin",children:Object(j.jsxs)("h6",{className:"manage",children:[Object(j.jsx)(N.a,{})," Add Products"]})})]})}),Object(j.jsx)("div",{className:"col-md-8",children:Object(j.jsxs)(P.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Product Name"}),Object(j.jsx)("th",{children:"Weight"}),Object(j.jsx)("th",{children:"Price"}),Object(j.jsx)("th",{children:"Action"})]})}),Object(j.jsx)("tbody",{children:c.map((function(e){return Object(j.jsx)(S,{pd:e},e._id)}))})]})})]})})},D=(c(107),function(){var e=Object(l.i)().id;console.log("id is",e);var t=Object(n.useState)({}),c=Object(o.a)(t,2),r=c[0],a=c[1],s=Object(n.useContext)(B),i=Object(o.a)(s,2),d=i[0];i[1];Object(n.useEffect)((function(){fetch("https://frozen-dawn-84884.herokuapp.com/singleProduct/".concat(e)).then((function(e){return e.json()})).then((function(e){a(e)}))}),[]),console.log(r.productName);var b=r.productName,h=r.weight,u=r.price;console.log(b);return Object(j.jsx)("div",{className:"container singleProduct",children:Object(j.jsxs)(P.a,{className:"table",striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Product Name"}),Object(j.jsx)("th",{children:"Weight"}),Object(j.jsx)("th",{children:"Price"}),Object(j.jsx)("th",{children:"Action"})]})}),Object(j.jsx)("tbody",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:b}),Object(j.jsx)("td",{children:h}),Object(j.jsx)("td",{children:u}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{onClick:function(){var e={email:d.email,productName:b,weight:h,price:u,orderDate:new Date};fetch("https://frozen-dawn-84884.herokuapp.com/placeOrder",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){console.log("checkout response",e),alert("Dear valued Customer, your order is placed!")})),console.log(e)},class:"btn btn-primary",children:"Checkout"})})]})})]})})}),L=(c(108),c(26)),E=(c(109),{apiKey:"AIzaSyCsUMrBkmSGRswYkmpth9YnxwG7RpYcdrA",authDomain:"grocery-hub-2cc75.firebaseapp.com",projectId:"grocery-hub-2cc75",storageBucket:"grocery-hub-2cc75.appspot.com",messagingSenderId:"921677508229",appId:"1:921677508229:web:5284f5aecf8b97425083ec"}),A=function(){var e=Object(n.useContext)(B),t=Object(o.a)(e,2),c=(t[0],t[1]),r=Object(l.g)(),a=Object(l.h)();console.log(a.state);var s=(a.state||{from:{pathname:"/"}}).from,i=Object(u.a)(),d=i.register,b=i.handleSubmit,h=(i.watch,i.errors),m=Object(n.useState)(!0),O=Object(o.a)(m,2),x=O[0],f=O[1],g=Object(n.useState)(!1),N=Object(o.a)(g,2),v=N[0],y=N[1],w=Object(n.useState)(""),k=Object(o.a)(w,2),P=k[0],S=k[1];0===L.a.apps.length&&L.a.initializeApp(E);return Object(j.jsx)("div",{className:"bg",style:{backgroundImage:"linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url('".concat(p,"')")},children:Object(j.jsx)("div",{className:"loginForm container py-5",children:Object(j.jsxs)("form",{onSubmit:b((function(e){var t={name:e.name,email:e.email,password:e.password};x?L.a.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(e){var n=e.user;c(t),y(!1),console.log(n),r.replace(s)})).catch((function(e){e.code;var t=e.message;console.log(e),y(!0),S(t)})):L.a.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){var n=e.user;c(t),y(!1),console.log(n),r.replace(s)})).catch((function(e){e.code;var t=e.message;console.log(e),y(!0),S(t)}))})),className:"form form-login",children:[x&&Object(j.jsx)("input",{className:"form-control",name:"name",placeholder:"Enter Your Name",ref:d({required:!0,maxLength:20})}),Object(j.jsx)("input",{className:"form-control",name:"email",placeholder:"Enter Your Email",ref:d({required:!0,pattern:/\S+@\S+\.\S+/})}),h.email&&Object(j.jsx)("span",{className:"error",children:"Valid Email required"}),Object(j.jsx)("input",{className:"form-control",name:"password",type:"password",placeholder:"Enter Your Password",ref:d({required:!0,min:6,max:99})}),h.password&&Object(j.jsx)("span",{className:"error",children:"password should contain at least one character. ex: abc123"}),x&&Object(j.jsxs)("p",{children:["Already have an Account? ",Object(j.jsx)("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){f(!1)},children:"Log in"})]}),Object(j.jsx)("input",{type:"submit",className:"btn btn-primary form-control"}),Object(j.jsx)("button",{className:"btn btn-primary form-control",onClick:function(){var e=new L.a.auth.GoogleAuthProvider;L.a.auth().signInWithPopup(e).then((function(e){var t=e.user,n=t.displayName,a=t.email;c({name:n,email:a,password:""}),r.replace(s)})).catch((function(e){var t=e.message;console.log(t)}))},children:" Sign in With Google"}),v&&Object(j.jsx)("p",{className:"error",children:P})]})})})},T=c(46),q=c(67),z=function(e){var t=e.children,c=Object(q.a)(e,["children"]),r=Object(n.useContext)(B),a=Object(o.a)(r,2),s=a[0];a[1];return console.log("log",s),Object(j.jsx)(l.b,Object(T.a)(Object(T.a)({},c),{},{render:function(e){var c=e.location;return s.email?t:Object(j.jsx)(l.a,{to:{pathname:"/login",state:{from:c}}})}}))},F=function(e){var t=e.pd,c=t.productName,n=t.weight,r=t.price,a=t.orderDate;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:c}),Object(j.jsx)("td",{children:n}),Object(j.jsxs)("td",{children:["$ ",r]}),Object(j.jsx)("td",{children:new Date(a).toDateString("dd/MM/yyyy")})]})},I=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useContext)(B),s=Object(o.a)(a,2),i=s[0];s[1];return Object(n.useEffect)((function(){fetch("https://frozen-dawn-84884.herokuapp.com/orderList?email=".concat(i.email)).then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),console.log(c),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"d-flex justify-content-center py-5",children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{children:["Dear Valued Customer ",Object(j.jsx)("span",{style:{color:"blue"},children:i.name})]}),Object(j.jsx)("h4",{className:"d-flex justify-content-center",children:"Your Order List"})]})}),Object(j.jsxs)(P.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Product Name"}),Object(j.jsx)("th",{children:"Weight"}),Object(j.jsx)("th",{children:"Price"}),Object(j.jsx)("th",{children:"Date of Order"})]})}),Object(j.jsx)("tbody",{children:c.map((function(e){return Object(j.jsx)(F,{pd:e},e._id)}))})]})]})},B=Object(n.createContext)();var W=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(j.jsx)(B.Provider,{value:[c,r],children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(k,{}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/home",children:Object(j.jsx)(h,{})}),Object(j.jsx)(z,{path:"/admin",children:Object(j.jsx)(v,{})}),Object(j.jsx)(z,{path:"/manageProducts",children:Object(j.jsx)(C,{})}),Object(j.jsx)(z,{path:"/checkout/:id",children:Object(j.jsx)(D,{})}),Object(j.jsx)(z,{path:"/orders",children:Object(j.jsx)(I,{})}),Object(j.jsx)(l.b,{path:"/login",children:Object(j.jsx)(A,{})}),Object(j.jsx)(l.b,{exact:!0,path:"/",children:Object(j.jsx)(h,{})})]})]})})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,133)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};c(111);s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(W,{})}),document.getElementById("root")),Y()},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){}},[[113,1,2]]]);
//# sourceMappingURL=main.b6901f8a.chunk.js.map